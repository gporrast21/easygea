let currentChat = '';

function loadChat(type = 'sinDelivery') {
  currentChat = type;

  const userName = document.getElementById("userName")?.value || "Agente";
  const name = document.getElementById("clientName")?.value || "Cliente";
  const marcaTelefono = document.getElementById("marcaTelefono")?.value || "Marca";
  const modeloEquipo = document.getElementById("modeloEquipo")?.value || "Modelo Equipo";
  const almacenEquipo = document.getElementById("almacenEquipo")?.value || "GB Equipo";
  const bonus = document.getElementById("bonus")?.value || "";
  const cuotaInicial = document.getElementById("cuotaInicial")?.value || "";
  const cuotaMensual = document.getElementById("cuotaMensual")?.value || "";
  const financiamiento = document.getElementById("financiamiento")?.value || "";
  const planCliente = document.getElementById("planCliente")?.value || "Plan";
  const precioPlan = document.getElementById("precioPlan")?.value || "";
  const precioTotalEquipo = document.getElementById("precioTotalEquipo")?.value || "";
  const descuentoClaroPuntos = document.getElementById("descuentoClaroPuntos")?.value || "";
  const tarjetaBanco = document.getElementById("tarjetaBanco")?.value || "";
  const cuotaTarjeta = document.getElementById("cuotaTarjeta")?.value || "";
  const equipoOfertado = document.getElementById("equipoOfertado")?.value || "";
  const precioAccesorio = document.getElementById("precioAccesorio")?.value || "";
  const pmTotal = document.getElementById("pmTotal")?.value || "";
  const colorEquipoUno = document.getElementById("colorEquipoUno")?.value || "";
  const colorEquipoDos = document.getElementById("colorEquipoDos")?.value || "";
  const precioPromocionalPortabilidad = document.getElementById("precioPromocionalPortabilidad")?.value || "";
  const diaSemana = document.getElementById("diaSemana")?.value || "";
  const diaHoy = document.getElementById("diaHoy")?.value || "";
  const mesActual = document.getElementById("mesActual")?.value || "";
  const numeroCamara = document.getElementById("numeroCamara")?.value || "";
  const camaraPrincipal = document.getElementById("camaraPrincipal")?.value || "";
  const camaraAdicional = document.getElementById("camaraAdicional")?.value || "";
  const bateria = document.getElementById("bateria")?.value || "";
  const cargaRapida = document.getElementById("cargaRapida")?.value || "";
  const pulgadasPantalla = document.getElementById("pulgadasPantalla")?.value || "";
  const tasaRefresco = document.getElementById("tasaRefresco")?.value || "";
  const procesadorEquipo = document.getElementById("procesadorEquipo")?.value || "";
  const numeroNucleo = document.getElementById("numeroNucleo")?.value || "";
  const velocidadProcesador = document.getElementById("velocidadProcesador")?.value || "";

  const ramEquipo = document.getElementById("ramEquipo")?.value || "";


  const marcaTelefonoField = document.getElementById("marcaTelefonoField");
  const modeloEquipoField = document.getElementById("modeloEquipoField");
  const almacenEquipoField = document.getElementById("almacenEquipoField");
  const bonusField = document.getElementById("bonusField");
  const cuotaInicialField = document.getElementById("cuotaInicialField");
  const cuotaMensualField = document.getElementById("cuotaMensualField");
  const financiamientoField = document.getElementById("financiamientoField");
  const planClienteField = document.getElementById("planClienteField");
  const precioPlanField = document.getElementById("precioPlanField");
  const precioTotalEquipoField = document.getElementById("precioTotalEquipoField");
  const descuentoClaroPuntosField = document.getElementById("descuentoClaroPuntosField");
  const tarjetaBancoField = document.getElementById("tarjetaBancoField");
  const cuotaTarjetaField = document.getElementById("cuotaTarjetaField");
  const equipoOfertadoField = document.getElementById("equipoOfertadoField");
  const precioAccesorioField = document.getElementById("precioAccesorioField");
  const pmTotalField = document.getElementById("pmTotalField");
  const colorEquipoUnoField = document.getElementById("colorEquipoUnoField");
  const colorEquipoDosField = document.getElementById("colorEquipoDosField");
  const precioPromocionalPortabilidadField = document.getElementById("precioPromocionalPortabilidadField");
  const diaSemanaField = document.getElementById("diaSemanaField");
  const diaHoyField = document.getElementById("diaHoyField");
  const mesActualField = document.getElementById("mesActualField");
  const numeroCamaraField = document.getElementById("numeroCamaraField");
  const camaraPrincipalField = document.getElementById("camaraPrincipalField");
  const camaraAdicionalField = document.getElementById("camaraAdicionalField");
  const bateriaField = document.getElementById("bateriaField");
  const cargaRapidaField = document.getElementById("cargaRapidaField");
  const pulgadasPantallaField = document.getElementById("pulgadasPantallaField");
  const tasaRefrescoField = document.getElementById("tasaRefrescoField");
  const procesadorEquipoField = document.getElementById("procesadorEquipoField");
  const numeroNucleoField = document.getElementById("numeroNucleoField");
  const velocidadProcesadorField = document.getElementById("velocidadProcesadorField");
  const ramEquipoField = document.getElementById("ramEquipoField");




  // Mostrar/ocultar campos seg√∫n el tipo de mensaje
  marcaTelefonoField.classList.toggle('hidden', !(type === 'preferenciaCliente' || type === 'equipoCuota' || type === 'equipoContado' || type === 'entidadBancaria' ));
  modeloEquipoField.classList.toggle('hidden', !(type === 'equipoCuota' || type === 'equipoContado' || type === 'entidadBancaria'));                                              
  almacenEquipoField.classList.toggle('hidden', !(type === 'equipoCuota' || type === 'equipoContado' || type === 'entidadBancaria'));
  bonusField.classList.toggle('hidden', !(type === 'equipoCuota' || type === 'equipoContado' || type === 'entidadBancaria'));
  cuotaInicialField.classList.toggle('hidden', type !== 'equipoCuota');
  cuotaMensualField.classList.toggle('hidden', !(type === 'equipoCuota' || type === 'entidadBancaria'));
  financiamientoField.classList.toggle('hidden', type !== 'equipoCuota');
  planClienteField.classList.toggle('hidden', !(type === 'equipoCuota' || type === 'equipoContado' || type === 'entidadBancaria'));
  precioPlanField.classList.toggle('hidden', type !== 'equipoCuota');
  precioTotalEquipoField.classList.toggle('hidden', !(type === 'equipoCuota' || type === 'equipoContado' || type === 'entidadBancaria'));
  descuentoClaroPuntosField.classList.toggle('hidden', type !== 'equipoContado');
  tarjetaBancoField.classList.toggle('hidden', type !== 'entidadBancaria');
  cuotaTarjetaField.classList.toggle('hidden', type !== 'entidadBancaria');
  equipoOfertadoField.classList.toggle('hidden', !(type === 'ofrecimientoAccesorio' || type === 'colorEquipo' || type === 'c_ram' || type === 'c_camara' || type === 'c_bateria' || type === 'c_pantalla' || type === 'c_procesador' || type === 'c_sinStock' ));
  precioAccesorioField.classList.toggle('hidden', type !== 'ofrecimientoAccesorio');
  pmTotalField.classList.toggle('hidden', type !== 'ofrecimientoPm');
  colorEquipoUnoField.classList.toggle('hidden', type !== 'colorEquipo');
  colorEquipoDosField.classList.toggle('hidden', type !== 'colorEquipo');
  precioPromocionalPortabilidadField.classList.toggle('hidden', !(type === 'conPortabilidad' || type === 'c_sinStock'));
  diaSemanaField.classList.toggle('hidden', type !== 'varios');
  diaHoyField.classList.toggle('hidden', type !== 'varios');
  mesActualField.classList.toggle('hidden', type !== 'varios');
  numeroCamaraField.classList.toggle('hidden', type !== 'c_camara');
  camaraPrincipalField.classList.toggle('hidden', type !== 'c_camara');
  camaraAdicionalField.classList.toggle('hidden', type !== 'c_camara');
  bateriaField.classList.toggle('hidden', type !== 'c_bateria');
  cargaRapidaField.classList.toggle('hidden', type !== 'c_bateria');
  pulgadasPantallaField.classList.toggle('hidden', type !== 'c_pantalla');
  tasaRefrescoField.classList.toggle('hidden', type !== 'c_pantalla');
  procesadorEquipoField.classList.toggle('hidden', type !== 'c_procesador');
  numeroNucleoField.classList.toggle('hidden', type !== 'c_procesador');
  velocidadProcesadorField.classList.toggle('hidden', type !== 'c_procesador');
  ramEquipoField.classList.toggle('hidden', type !== 'c_ram');
  




  const messages = {
    //SALUDO
    saludoOutbound: `‚Ä¢OPCI√ìN 1\n\nüîì ¬°Desbloqueaste un descuentazo! üò±\n Hola, soy *${userName}* de Claro üëã  Aprovecha los precios incre√≠bles que tenemos en equipos ¬°Solo por tiempo limitado! ‚è≥\n ¬øTe interesa alguno en especial o te doy una recomendaci√≥n? üëÄ\n\n ‚Ä¢OPCI√ìN 2\n\n ü§ë ¬°Ofertas que valen la pena! üì±‚ú®\n Te saluda *${userName}* de Claro üëã Esta semana tenemos descuentos en equipos solo para ti ¬°Aprovecha hoy y renueva! üéâ\n ¬øYa sabes cu√°l quieres o te ayudo a elegir? üòé\n\n ‚Ä¢OPCI√ìN 3 (con una intro de intriga)\n\n ü§´ Esto no se lo contamos a todos ‚ú®\n Te saluda *${userName}* de Claro üëã Solo por esta semana tenemos descuentazos en equipos üì≤ ¬°Aprovecha hoy y renueva! üî•\n ¬øYa tienes un equipo en mente o te ayudo a elegir? üëÄ\n\n ‚Ä¢OPCI√ìN 4 (delivery)\n\nüööüí® Env√≠o GRATIS en equipos\n Hola, soy *${userName}* de Claro üëã  Aprovecha los descuentos en equipos que tenemos para ti ¬°Solo por tiempo limitado! ‚è≥\n ¬øTe interesa alguno en especial o te doy una recomendaci√≥n? üëÄ`,
    saludoInbound: `‚Ä¢OPCI√ìN 1\n\n üîì ¬°Desbloqueaste un descuentazo! üò±\n Hola, gracias por volver a comunicarte, soy *${userName}* de Claro üëã  Aprovecha los precios incre√≠bles que tenemos en equipos ¬°Solo por tiempo limitado! ‚è≥\n ¬øTe interesa alguno en especial o te doy una recomendaci√≥n? üëÄ\n\n ‚Ä¢OPCI√ìN 2\n\n ü§ë ¬°Ofertas que valen la pena! üì±‚ú®\n Gracias por volver a comunicarte, te saluda *${userName}* de Claro üëã Esta semana tenemos descuentos en equipos solo para ti ¬°Aprovecha hoy y renueva! üéâ\n ¬øYa sabes cu√°l quieres o te ayudo a elegir? üòé\n\n ‚Ä¢OPCI√ìN 3 (con una intro de intriga)\n\n ü§´ Esto no se lo contamos a todos ‚ú®\n Gracias por volver a comunicarte, te saluda *${userName}* de Claro üëã Solo por esta semana tenemos descuentazos en equipos üì≤ ¬°Aprovecha hoy y renueva! üî•\n ¬øYa tienes un equipo en mente o te ayudo a elegir? üëÄ\n\n ‚Ä¢OPCI√ìN 4 (delivery)\n\n üööüí® Env√≠o GRATIS en equipos\n Hola, gracias por volver a comunicarte, soy *${userName}* de Claro üëã  Aprovecha los descuentos en equipos que tenemos para ti ¬°Solo por tiempo limitado! ‚è≥\n ¬øTe interesa alguno en especial o te doy una recomendaci√≥n? üëÄ`,

    //PREGUNTA FILTRO
    equipoCliente: '¬øCom√©ntame cu√°l es la marca y modelo que est√°s usando actualmente?üì≤Para poder darte un tel√©fono m√°s actual que el que tienesüôå',
    ubicacionCliente: '¬°Genial! üòÅ Actualmente, ¬øte encuentras en *Lima* o *Provincia*? \nüìçInd√≠came tu direcci√≥n, con el departamento, provincia y distrito üó∫',
    lineasAdicionales: 'Mientras evaluamos tu l√≠nea... ¬øSab√≠as que puedes ahorrar dinero en tu l√≠nea m√≥vil? üì≤\n\n üìå Si adquieres una *l√≠nea adicional* nueva o en *portabilidad* desde S/ 55.90, obtendr√°s un 50% de descuento en la l√≠nea de menor plan durante todo 1 a√±o. (Sujeto a evaluaci√≥n). üò±üôå \n\n¬øAparte de este n√∫mero, tienes otras l√≠neas que NO sean de CLARO o gustar√≠as una l√≠nea adicional?\n\n ü§îü•≥üéâ¬°Aprovecha por 12 meses el 50% de descuento para tu l√≠nea adicional!ü•≥üéâ, es decir, el plan de 55.90 lo podr√≠a pagar tan solo a 27.95 soles. As√≠ tendr√°s un ahorro en tus gastos de servicio (sujeto a evaluaci√≥n)ü§ë y adem√°s de mejorar tu nivel crediticioü§©¬°An√≠mate! No dejes pasar esta oportunidad. ü§©üì±',
    preferenciaCliente: `Perfecto, y dime, ¬øtienes alguna marca de su agrado como: Honor, Samsung, Iphone, Motorola, ZTE, VIVO, OPPO o Xiaomi? üîçüëÄ\n\n Excelente elecci√≥n üôå, ¬øY qu√© *caracter√≠sticas* te gustar√≠a mejorar? Tal vez buscas mejor *c√°mara* üì∑, m√°s *RAM* üß†, una *pantalla impresionante*üì± o m√°s *memoria interna* üì≤ o ¬øCu√°l de todas ellas prefieres?\n\n Excelente elecci√≥n üôå, ¬øY qu√© *tipo de uso* te gustar√≠a darle a tu nuevo tel√©fono? Tal vez buscas *un equipo para fotos y videos* üì∑, quiz√°s *uno especialmente dise√±ado para jugar videojuegos * üéÆüß†, una *pantalla impresionante para ver pel√≠culas *üì± o, por otro lado *para uso diario y trabajo*üì≤, ¬øQu√© uso le dar√°s? \n\nPerfecto, y dime,  ¬ødeseas seguir trabajando con la marca ${marcaTelefono}? o prefieres evaluar otras marcas como Honor, Samsung, Iphone, Motorola, ZTE, VIVO, OPPO o Xiaomi? üîçüëÄ`,
    presupuestoCliente: `Excelente elecci√≥n ${name} üí∞, ¬øCu√°l es el monto que tienes en mente para obtener tu *nuevo equipo*? y con ello no excederme en tu presupuesto üôå\n\n Recuerda que un equipo de calidad puede ser una inversi√≥n muy conveniente a largo plazo.`,
    preguntasAdicionales: `Adem√°s del modelo que me coment√≥, ¬øhas tenido otro modelo en mente? üì± ü§î \n\n ¬øDeseas verlo en cuotas sin intereses con tarjeta de cr√©dito o al contado con un precio promocional con hasta 30% de descuento? üôåüëÄ \n\n ¬øDeseas verlo en cuotas con Claro o al contado con un precio promocional con hasta 30% de descuento? üôåüëÄ \n\n Tengo estos incre√≠bles equipos, ¬øCu√°l de los dos escoges?üëÄ \n\n ¬øCu√°l de estas opciones te gusta m√°s?üëÄ \n\n ¬øDeseas una gama media superior o gama top?üôå \n\n ¬øDeseas una gama econ√≥mica o quiz√°s una gama media?üôå \n\n ¬øDeseas una gama econ√≥mica, una gama media o quiz√°s una gama superior?üôå`,

    //TIEMPO DE ESPERA
    esperaBreve: `Un momento por favor ... Bas√°ndonos en el presupuesto que me mencionas, voy a buscar una alternativa que est√© acorde al monto üîç, por favor br√≠ndame un momento ‚è≥ \n\n El financiamiento en cuotas o al contado depende de una evaluaci√≥n crediticia, perm√≠teme un momento para realizarla‚è±Ô∏è‚è≥. \n\n Muy bien, perm√≠teme un momento por favor üòé. \n\n ¬°Vamos a averiguarlo!, perm√≠teme un momento por favor üôå. \n\n ‚è±Ô∏è‚è≥ Perm√≠teme unos minutos y enseguida estar√© de vuelta contigo. ¬°Muchas gracias! üôå \n\n ‚è≥üîç Perm√≠teme un momento m√°s continuo evalu√°ndote. ¬°Gracias por tu paciencia! üôå \n\n *${name}* üì±‚è±Ô∏è Por favor, dame unos minutos y en breve estar√© listo para ayudarte. ¬°Gracias por tu paciencia! üôå`,
  
    //OFRECIMIENTO
    preOferta: `Gracias por tu espera‚ú®, entiendo, personalmente te recomiendo este equipo que estoy m√°s que seguro que cumplir√° con todas tus expectativasüôåüòé: \n\nGracias por tu espera‚ú®, entiendo, considerando tus preferencias te recomiendo este equipo que estoy m√°s que seguro que cumplir√° con todas tus expectativasüôåüòé:`,
    equipoCuota: `Excelentes noticias!!! \n\n Realizando la evaluaci√≥n, aplicas al beneficio de *pago en cuotas*: \nüì±Equipo: ${marcaTelefono} ${modeloEquipo} de ${almacenEquipo} ${bonus}\nüìå Cuota inicial: S/. ${cuotaInicial}\nüßæ Cuota mensual: S/. ${cuotaMensual}\nüí≥ Financiamiento: ${financiamiento} \n${planCliente} de internet para que navegues en "alta velocidad" ü§ë üìû llamadas y ‚úâÔ∏è SMS nacionales ilimitados.\nüìπ ¬°Claro Video Gratis por 24 meses!\nüí∞ Pago total mensual: S/.${precioPlan} (Plan + cuota mensual)\nüí≤ Precio Total Equipo: S/. ${precioTotalEquipo} `,
    equipoContado: `Excelentes noticias!!!\n\n Realizando la evaluaci√≥n, aplicas al beneficio de *pago al contado*\nüòÉ Puedes llevarte el equipo de la siguiente manera:\nüì±Equipo: ${marcaTelefono} ${modeloEquipo} de ${almacenEquipo} ${bonus}\nüí≤ Pago al contado: S/ ${precioTotalEquipo} *(√önico pago)*\nüí∞ Descuento con Claro Puntos: ${descuentoClaroPuntos}\n${planCliente} üìû llamadas y ‚úâÔ∏è SMS nacionales ilimitados.\n üìÑ Contrato: 18 meses\n üìπ ¬°Claro Video Gratis por 24 meses! `,
    entidadBancaria: `Excelentes noticias!!! \n\n Realizando la evaluaci√≥n, aplicas al beneficio de *pago en cuotas sin intereses con ${tarjetaBanco}*\nüòÉ Puedes llevarte el equipo de la siguiente manera:\nüì±Equipo: ${marcaTelefono} ${modeloEquipo} de ${almacenEquipo} \nüí≤ Pago total divisible en cuotas: S/ ${precioTotalEquipo} \nüßæ N√∫mero de cuotas: ${cuotaTarjeta}\nüí≥ Cuota mensual en tarjeta de cr√©dito:S/. ${cuotaMensual}\n ${planCliente} üìû llamadas y ‚úâÔ∏è SMS nacionales ilimitados.\n üìÑ Contrato: 18 meses\n üìπ ¬°Claro Video Gratis por 24 meses! `,
    ofrecimientoAccesorio:`${name}, gracias a que has adquirido el equipo ${equipoOfertado} se te est√° brindando la opci√≥n de que obtengas un accesorio a precio promocional de tan solo S/${precioAccesorio} y lo mejor es que te lo podemos enviar gratis a tu direcci√≥n.`,
    ofrecimientoPm:`Antes de ingresar tu renovaci√≥n üìÑ, te comento algo muy importante: ¬°Tu equipo es una inversi√≥n üí∞ totalmente necesaria para tu d√≠a a d√≠a y, por lo tanto, debe ser protegida!! Es por ello que te presento Protecci√≥n M√≥vil Claro üí™\n‚úÖ Protege tu inversi√≥n por ${pmTotal} mensuales!\n‚úÖ Usa tu nuevo celular con tranquilidad sabiendo que est√° protegido. üõ°Ô∏è\n‚úÖ Ahorra. No deber√°s pagar la totalidad de un nuevo equipo. üíµ\n‚úÖ No est√° sujeto a contratos. \n\n¬øProtegemos tu nuevo celular? üòäüîí`,
    nodeseaPm: `¬°An√≠mate! üòÉ A todos nos ha pasado alguna vez que se nos ha ca√≠do el celular al suelo üì≤üí•, al agua üí¶üåä, se nos ha quebrado la pantalla üìµüò¢ o hemos sufrido alg√∫n robo üîíüö´. Por eso, es importante proteger tu nuevo m√≥vil üõ°Ô∏è, considerando que est√°s haciendo un esfuerzo para adquirirlo. üí™üí∞\n\n¬°Perfecto, ${name}! No hay ning√∫n problema. Si decides proteger tu nuevo celular, simplemente tienes que ponerte en contacto al 123 ‚òéÔ∏è o acercarte a uno de nuestros centros de atenci√≥n üè¢. Tienes hasta 30 d√≠as a partir de la recepci√≥n de tu equipo para hacerlo. üì±‚è∞`,
  
     //PRE CIERRE
    delivery: `ü§© Y lo mejor es que contamos con entrega a trav√©s de *Delivery totalmente gratuito sujeto a cobertura. \n\n*¬øTe gustar√≠a que te lo llevemos a tu casa o a tu trabajo?\n\nüöö‚åõ ¬øEn qu√© horario prefieres recibir la visita del delivery? ¬øPor la ma√±ana de 9 a.m. a 1 p.m. ‚òÄÔ∏è o por la tarde de 2 p.m. a 6 p.m. üåô?\n\nPara validar la cobertura de entrega por delivery comp√°rteme tu direcci√≥n exacta con algunas referencias o env√≠ametu ubicaci√≥n actual de la siguiente forma üìç ü§óüöÄ`,
    sinDelivery:`${name} ¬°Te cuento algo importante! üìçüì≤ En estos momentos, no tenemos cobertura en la direcci√≥n que nos proporcionaste. Pero no te preocupes, *¬°tenemos una soluci√≥n!* Ac√©rcate a alguno de nuestros centros de atenci√≥n ubicados en:\n\n-\n\n-\n\n¬øCu√°l de los centros de atenci√≥n te queda m√°s cerca?, Solo necesito que me confirmes la hora en la que puedas ir, para as√≠ generarte una cita y evitar que hagas largas colas. ¬°Estamos aqu√≠ para ayudarte! üòâüìÖ`,
    ventaCac: `ü§© Y lo mejor es que contamos con recojo a trav√©s de nuestros centros de atenci√≥n al cliente y priorizaremos tu atenci√≥n con una cita personalizada. \n\n¬øTe gustar√≠a que te programe tu cita por la ma√±ana o por la tarde?`,
    colorEquipo:`*¬°${name}!* Sabes, lo mejor es que tengo disponible el equipo ${equipoOfertado} en dos colores distintos. Cu√©ntame, ¬øprefieres que lo ingrese en color ${colorEquipoUno} o ${colorEquipoDos}? üé®üì±`,
    conPortabilidad:`Entiendo! üëç Pero con nosotros obtendr√°s un *ahorro* en el valor del plan a diferencia de tu operador actual, es decir solo pagar√°s *S/ ${precioPromocionalPortabilidad}* durante *12 meses* ¬°O tal vez puedas obtener una l√≠nea adicional para compartirla con un ser querido que necesite mantenerse en contacto! ü§ù`,
    conLineanueva: `¬°Te evaluamos sin compromiso! üìù Puedes regalarle la l√≠nea a un familiar üë®‚Äçüë©‚Äçüëß‚Äçüë¶ o puedes mantener la segunda l√≠nea para tu trabajo üíºüì± y utilizar la que tienes actualmente para tu familia. ¬°T√∫ decides! üòäüëç`,
    contacto: `üåü ¬°Gracias por confirmar tu pedido! ü•≥ En 10 minutos me pondr√© en contacto contigo desde nuestra central 123 üìû. ¬°Es importante contestar para programar la entrega de tu nuevo celular! üöö‚ú®\n\nPor tu seguridad üîí realizaremos una r√°pida verificaci√≥n de tus datos para confirmar que eres el titular. Adem√°s, te indicaremos las condiciones acordadas y, si est√°s de acuerdo, solo tienes que responder con un ¬°S√ç ACEPTO! ‚úÖ`,
    varios:`El equipo te sale a inicial 0!!!üò±üò± ¬øTe lo mandamos a casa o lo recoges en tienda? üëÄ \n\n Precio promocional por hoy ${diaSemana} ${diaHoy} de ${mesActual} üò±üò± ¬øTe lo mandamos a casa o lo recoges en tienda? üëÄ\n\n De acuerdo a la evaluaci√≥n realizada en nuestro sistema actualmente solo puedes renovar con modalidad al contado, sin embargo, si tienes tarjeta de cr√©dito podemos hacer un financiamiento hasta 24 cuotas sin intereses y a 0 inicial üò±üò±. ¬øTienes alguna tarjeta de cr√©dito?üôåüëÄ\n\n De acuerdo a la evaluaci√≥n realizada en nuestro sistema actualmente solo puedes renovar con modalidad al contado, sin embargo, te comento que tenemos convenio con los siguientes bancos si deseas adquirir un equipo en cuotas sin intereses y a 0 inicial üò±üò± con tarjeta de cr√©dito:\nüî¥ Scotiabank: En 3, 6, 9, 12, 18 y 36 cuotas sin intereses.\nüü¢Interbank: En 12, 18 y 24 cuotas sin intereses.\nüîµ BCP: En 3, 6, 9, 12, 18 y 24 cuotas sin intereses.\nüü° BBVA: En 3, 6, 9, 12, 15, 18 y 24 cuotas sin intereses.\nüü†Financiera Oh: En 2, 6 y 18 cuotas sin intereses.\nüü£Cencosud: En 12 y 18 cuotas sin intereses.\nüü§Diners: En 2 a 12 cuotas sin intereses.\n O con cualquier otra tarjeta de cr√©dito de tu preferencia consultando con tu banco sobre los intereses. ¬øQu√© tarjeta de cr√©dito cuentas para poder evaluarte? ‚úç\n\n*${name} * üëã‚ú® El *precio especial* que te estamos otorgando al *contado* ser√° un *pago √∫nico* y lo mejor es que lo podr√°s financiar *en cuotas sin intereses* ü§©üí∞ *con las tarjetas de cr√©dito ¬°BBVA, BCP, Cencosud, Diners Club, Financiera OH, Interbank o Scotiabank! * üôåüí≥ (equipos seleccionados) Para verificar si cumples con los requisitos de esta campa√±a de cuotas sin intereses ü•≥ com√©ntame ¬øtienes tarjeta de cr√©dito de los bancos mencionados?`,

    //CARACTERISTICAS ESPECIALES
    c_camara:`**${name}* te comento que el nuevo *${equipoOfertado}* incluye *${numeroCamara}* c√°maras en el lado posterior del equipo, cuya c√°mara principal de ${camaraPrincipal} MP üì∏ que te permite capturar fotos *panor√°micas, retrato y grabar con detalles espectaculares*, üò± adem√°s una c√°mara de ${camaraAdicional} MP, ambas c√°maras incluyen un flash ideal para *fotograf√≠as nocturnas*. üåÉüîù`,
    c_bateria:`*${name}* La capacidad de la bater√≠a del *${equipoOfertado}*, que es de ${bateria} mAh, garantiza una *duraci√≥n suficiente para todo el d√≠a*, si se utiliza de forma moderada. Adem√°s, este dispositivo ofrece una *funci√≥n de carga r√°pida de ${cargaRapida} W*, lo que permite recargar la bater√≠a en un corto per√≠odo de tiempo. üòâüëå`,
    c_pantalla: `*${name}* El *${equipoOfertado}* ofrece una experiencia visual envolvente con su generosa pantalla de ${pulgadasPantalla} y una tasa de refresco de ${tasaRefresco} Hz que *garantiza animaciones fluidas*. Su calidad de imagen impresionante, con amplia gama de colores, hace que tus fotos, videos y redes sociales favoritas se vean *simplemente espectaculares*. üòâüëå`,
    c_procesador: `*${name}* El procesador del *${equipoOfertado}* es un ${procesadorEquipo} de ${numeroNucleo} n√∫cleos con una velocidad de procesamiento de ${velocidadProcesador} GHz, lo que *garantiza un excelente rendimiento* para ejecutar varias aplicaciones simult√°neamente, sin retrasos. Adem√°s, su compatibilidad con las *redes XG* proporciona una experiencia de uso excepcional. üëåüòâ`,
    c_ram: `*${name}* El ${equipoOfertado} tiene una memoria RAM de *${ramEquipo} GB*, eso quiere decir que podr√°s ejecutar m√°s aplicaciones en simult√°neo sin que se ralentice. Esto significa que podr√°s cambiar entre aplicaciones de manera m√°s fluida y realizar *multitareas* sin problemas. üß†üí™`,
  
    //ARGUMENTOS
    c_descuentoOperador: `Es importante considerar por qu√© un operador te ofrece beneficios adicionales, como descuentos o bonos ü§î. No siempre estos beneficios reflejan la calidad del servicio. üö® \n\nEn nuestro caso, somos reconocidos por Osiptel como l√≠deres en navegaci√≥n üåê y brindamos la mejor cobertura a nivel nacional üáµüá™, diferenci√°ndonos de otras operadoras. üèÜüì∂`,
    c_contadoNo: `*${name}* comprendo tu preocupaci√≥n sobre la cuota inicial del equipo üì≤, pero recuerda que, al realizar este pago, logramos mensualidades m√°s econ√≥micas. ü§ó Lo que se traduce como un ahorro adicional para ti. üìàüí∞ \n\n Si a√∫n tienes inquietudes, puedo ofrecerte la mejor opci√≥n que se adecue a tus necesidades y presupuesto, ü§© Estoy aqu√≠ para ayudarte üôå`,
    c_precioEquipo: `*${name}* es importante tener en cuenta algunos aspectos antes de tomar una decisi√≥n. üòâ \n\n üìå Somos reconocidos por Osiptel como l√≠deres en navegaci√≥n üåê otorgando la mejor cobertura a nivel nacional üáµüá™, Recuerda que tambi√©n te ofrecemos beneficios especiales como Claro Club üéÅ, Claro M√∫sica üé∂, Claro Video üìΩ, Millas Latam ‚úà a trav√©s de Claro puntos. üí∞ \n\n Voy a revisar la oferta que recibiste y buscar una alternativa que se ajuste a tus necesidades y presupuesto üîé. Estoy aqu√≠ para garantizar que tomes la mejor decisi√≥n. ü§ó`,
    c_Retail: `*${name}* entiendo que el equipo en tiendas Retail pueda costar menos, pero recuerda que ‚ö†, al comprar nuestro equipo, ante cualquier inconveniente ü™õ te ofrecemos una garant√≠a por 12 meses.  \n\n A diferencia de las plataformas de tiendas Retail, ü´£ donde los equipos generalmente son vendidos por terceros sin garant√≠a directa, üìâ nosotros te brindamos la tranquilidad üòå de tener una compra directa y atenci√≥n especializada. ü§© \n\n Estoy aqu√≠ para asegurar que obtengas el mejor equipo celular. ü§ó‚ú®`,
    c_cuotaInicial: `*${name}* comprendo tu preocupaci√≥n sobre la cuota inicial del equipo üì≤, pero recuerda que, al realizar este pago, logramos mensualidades m√°s econ√≥micas. ü§ó Lo que se traduce como un ahorro adicional para ti. üìàüí∞ \n\n Si a√∫n tienes inquietudes, puedo ofrecerte la mejor opci√≥n que se adecue a tus necesidades y presupuesto, ü§© Estoy aqu√≠ para ayudarte üôå`,
    c_sinStock: `*${name}* comprendo tu inter√©s en obtener ese equipo en espec√≠fico. Sin embargo, no lo tenemos en stock, perm√≠teme ofrecerte algunas alternativas similares que tenemos disponible en estos momentos, por ejemplo: ${equipoOfertado} a tan solo S/ ${precioPromocionalPortabilidad} üíªüîÑ`,
    c_cambioPromocion: `*${name}*, as√≠ es, esa fue la promoci√≥n que estaba disponible ese d√≠a y lo ideal hubiera sido aprovecharla. Actualmente, el equipo que deseas sigue en promoci√≥n en comparaci√≥n con su precio real. ‚è≥‚ö°Ô∏èTen en cuenta que las promociones tienen un tiempo limitado y generalmente no duran m√°s de 24 horas. Es posible que ma√±ana ya no est√© disponible y vuelva a su precio original. ¬°No dejes pasar esta oportunidad! üéÅüöÄ Aprovecha esta promoci√≥n mientras a√∫n est√° vigente. ¬°No te arrepentir√°s! üòäüì± `,
    c_permanencia: `*¬°${name}!* üëã ¬°No te preocupes¬°, recuerda que nuestra campa√±a de *Renovaci√≥n WhatsApp*‚úÖ te brinda *precios diferenciados* üí∞. \n\nAdem√°s, tener el plan por 12 o 18 meses te brinda una variedad de beneficios especiales como *Claro Club üéÅ, Claro M√∫sica üé∂, Claro Video üìΩ, Millas Latam* ‚úà a trav√©s de *Claro puntos.*`,
    c_accesorioaContado: `${name} entiendo tu negativa, sin embargo, este accesorio est√° regularmente a un precio mayor, a ti se te est√° brindando un descuento especial y podr√≠as aprovechar en regal√°rselo a un familiar o a una amistad.`,
    c_convenioBanco: `*¬°${name}!* üëã‚ú® El *precio especial* que te estamos otorgando al *contado* ser√° un *pago √∫nico* y lo mejor es que lo podr√°s financiar *en cuotas sin intereses* ü§©üí∞ *con las tarjetas de cr√©dito ¬°BBVA, BCP, Cencosud, Diners Club, Financiera OH, Interbank o Scotiabank!* üôåüí≥ (equipos seleccionados)  \n\nPara verificar si cumples con los requisitos de esta campa√±a de cuotas sin intereses ü•≥ com√©ntame ¬øtienes tarjeta de cr√©dito de los bancos mencionados?`,
    c_catalogox: `ANTIBAJA \n ¬°Puedes probar nuestro servicio y estamos seguros de que una vez que experimentes sus beneficios, te quedar√°s con nosotros por mucho tiempo! üåüüòÉ\n\n CLIENTE REFUTA FALTA DEL CARGADOR\nüì± Los nuevos celulares Samsung y iPhone *solo viene con el accesorio del cable.* Para reducir residuos y ser m√°s sostenibles üåç, adem√°s de ofrecer precios m√°s atractivos üí∞.\n\n CLIENTE PIDE CELULARES GRATIS\n ¬°Hola! üì±‚ú® Aunque no ofrecemos celulares gratis, tenemos una oferta incre√≠ble: hasta un 30% de descuento en modelos seleccionados y ¬°entrega gratuita previa validaci√≥n de cobertura! üööüí® No pierdas la oportunidad de conseguir el celular que deseas a un precio fant√°stico. ¬øTe interesa alg√∫n modelo en particular o te gustar√≠a que te recomiende una oferta especial? üòä\n\n CLIENTE PIDE CAT√ÅLOGO\n ${name}, Nuestra atenci√≥n es 100% personalizada para ello. Me encantar√≠a saber ¬øcu√°l es la caracter√≠stica principal que buscas üßê y si tienes un presupuesto establecido? üí∞ para as√≠ poder recomendarte el equipo perfecto que se ajuste a tus necesidades. üëç`,

    //BENEFICIOS
    c_beneficios: `CLAROCLUB \n Te invito a descargar nuestra aplicaci√≥n *CLARO CLUB* desde la *Play Store* üéÆüì≤ o *App Store* üçèüì±! Podr√°s acceder a un amplio cat√°logo de descuentos üõçÔ∏è en miles de establecimientos‚ú®üí≥ ¬°No pierdas la oportunidad de disfrutar de incre√≠bles descuentos y beneficios adicionales! üòçüî•\n\nCLARODRIVE\n¬°Recuerda que puedes disfrutar de *CLARO DRIVE*, donde obtendr√°s *25GB* de almacenamiento gratuito en la nube! üå•Ô∏èüìÇ Adem√°s, tienes la opci√≥n de adquirir hasta *1TB* de almacenamiento para guardar todos tus archivos, fotos, videos y mucho m√°s. üì∑üìÅüíæ`,

    //REVOCATORIA
    c_revocatoria: `Recuerda que puedes cancelar la autorizaci√≥n para recibir llamadas de ofertas de nuestra parte üìûüí¨, accediendo a nuestro sitio web o comunic√°ndote directamente con nuestro servicio al cliente üì≤üìû. Estamos comprometidos a respetar tu decisi√≥n y brindarte la mejor experiencia posible con nuestros productos y servicios. üòäüôè`,

     //Asesor No Disponible
    c_asesornoready: `${name}, por inconvenientes t√©cnicos estar√© derivando la comunicaci√≥n con otro compa√±ero para que contin√∫e con su atenci√≥n y no desaproveche nuestras excelentes promociones en equipos üì± ü•≥ \n\n Actualmente, tenemos un inconveniente t√©cnico en nuestro sistema de evaluaci√≥n, por lo que apenas se resuelva, te dar√© el precio del equipo üôèüòä. \n\n ¬°Buenas tardes!!, disculpa la demora, hubo un inconveniente con el sistema de Claro, pero ya ha sido superado y ya estoy aqu√≠ para ayudarte.üôèüòä \n\n ¬°Gracias por tu espera! üòÑ En estos momentos estamos experimentando dificultades t√©cnicas en nuestro sistema. En cuanto se solucionen, nos comunicaremos contigo para poder ayudarte con la evaluaci√≥n. ¬°Apreciamos mucho tu comprensi√≥n! üôèüîß`,
 
    //DERIVACIONES
    c_derivaciones: `¬°Hola ${name}! Para que puedas recibir una asesor√≠a especializada sobre el estado de tu servicio üì∂üîç, te sugerimos que te comuniques al 123‚òéÔ∏è o al üìû0800-00123 desde una l√≠nea fija. Este canal es exclusivo para ventas de equipos y nuestro equipo estar√° encantado de brindarte toda la ayuda que necesitas. üíª`,

    //BLOQUE POR DEUDA
    c_bloqueoDeuda: `üì±${name}, validamos que actualmente cuentas con un importe pendiente de pago ¬°No te preocupes! Puedes pagarlo desde donde te encuentres a trav√©s de tu banca m√≥vil o de billeteras digitales üí≥ \n\n Escr√≠benos cuando hayas realizado el pago ¬°Tu nuevo equipo te est√° esperando! ü§© ¬°no desaproveches esta excelente promoci√≥n!`,

    //CLIENTE NO RESPONDE
    c_clientenoresponde: `5 MINUTOS \nüòÑüì± ¬°Nos encanta seguir en contacto contigo! ¬°Estamos esperando con ansias tu respuesta! üòä\n\n15 MINUTOS \n‚è∞‚ö°Ô∏èSi est√°s ocupado ahora, no hay problema. ¬°No dudes en escribirnos cuando tengas tiempo! Estaremos encantados de mostrarte las promociones disponibles para ti. üòäüéâ Te atendi√≥ *{userName}*. ¬°Que tengas un excelente d√≠a! üåüüôå`,

    //DESPEDIDA
    c_despedidaVenta: `*${name}*, ¬°Fue un placer atenderte y gracias por tu tiempo! üòä Si en el futuro tienes alguna pregunta o consulta, no dudes en preguntar por m√≠. Tambi√©n *puedes recomendar a tus familiares o amigos üë®‚Äçüë©‚Äçüëß‚Äçüë¶ que deseen renovar sus dispositivos* ¬°Estoy aqu√≠ para ayudarte! Te atendi√≥ *{userName}*, ¬°hasta pronto! ü•≥`,
    c_despedidaNoVenta: `**${name}** üòÉ Recuerda que siempre puedes escribirnos aqu√≠ para obtener m√°s informaci√≥n sobre nuestras ofertas y promociones. ¬°Pregunta por m√≠ *{userName}* y estar√© encantado de ayudarte!, Tambi√©n *puedes recomendar a tus familiares o amigos üë®‚Äçüë©‚Äçüëß‚Äçüë¶ que deseen renovar sus dispositivos*. ¬°Que tengas un excelente d√≠a y gracias por tu tiempo! üåüüì±`,
    
    //RECUPERAR VENTA
    c_recuperarVentas: `Buenos tardes!!, Soy ${name} de Claro üôåüëÄ Verifico que no se pudo concretar la entrega del equipo cuando se gener√≥ la reservaci√≥n. Cu√©ntame, ¬øC√≥mo podemos ayudarte para que puedas disfrutar tu equipo? üòä`,

  }

     const titleMap = {
    saludoOutbound: "üó£Ô∏è Saludos Outbound",
    saludoInbound:"üó£Ô∏è  Saludos Inbound",

    equipoCliente:"üîç  Equipo del Cliente",
    ubicacionCliente: "üîç  Ubicaci√≥n del Cliente",
    lineasAdicionales: "üîç  Lineas Adicionales",
    preferenciaCliente: "üîç  Preferencias del cliente",
    presupuestoCliente: "üîç  Presupuesto del Cliente",
    preguntasAdicionales: "üîç  Preguntas Adicionales",

    esperaBreve: "‚è≥ Mensajes de Espera",

    preOferta: "üì¢ Pre - Oferta",
    equipoCuota: "üí≥ Equipo a Cuotas",
    equipoContado: "üì¢ Equipo al Contado",
    entidadBancaria: "üì¢ Con entidad Bancaria",
    ofrecimientoAccesorio: "üì¢ Ofrecimiento de Accesorio",
    ofrecimientoPm: "üì¢ Ofrecimiento de PM",
    nodeseaPm: "üì¢ No desea Protecci√≥n M√≥vil",

    delivery: "‚úÖ delivery ",
    sinDelivery: "‚úÖ  Sin Delivery",
    ventaCac: "‚úÖ  Para venta CAC",
    colorEquipo: "‚úÖ  Color de Equipo",
    conPortabilidad: "‚úÖ  Con Portabilidad",
    conLineanueva: "‚úÖ  Con linea nueva",
    contacto: "‚úÖ  Contacto",
    varios: "‚úÖ  Varios",

    c_camara: "üìä  C√°mara ",
    c_bateria: "üìä   Bater√≠a",
    c_procesador: "üìä   Pantalla",
    c_procesador: "üìä   Procesador",
    c_ram: "üìä   Ram",

    c_descuentoOperador: "üß†  Descuento Operador",
    c_contadoNo: "üß†  No quiere contado",
    c_precioEquipo: "üß†  Precio de equipo",
    c_Retail: "üß†  Prefiere comprar en Retail",
    c_cuotaInicial: "üß†  Cuota Inicial",
    c_sinStock: "üß†  Sin sctock",
    c_cambioPromocion: "üß†  Cambio de promoci√≥n",
    c_permanencia: "üß†  No quiere contado",
    c_accesorioaContado: "üß†  Accesorio al contado",
    c_convenioBanco: "üß†  Convenio con el Banco",
    c_catalogox: "üß†  Otros",

    c_beneficios: "ü§©  Claro Club y Claro Drive",
    c_revocatoria: "‚öñÔ∏è Revocatoria de Consentimiento",
    c_asesornoready: "üìµ Asesor no Disponible",
    c_derivaciones: "üîÄ Derivaciones",
    c_bloqueoDeuda: "üö´ Bloqueo de Deuda",
    c_clientenoresponde: "üôà Cliente no Responde",
    c_despedidaVenta: "üëã Despedida Venta",
    c_despedidaNoVenta: "üëã Despedida No Venta",
    c_recuperarVentas: "‚ôªÔ∏è Recuperar Ventas",


  };

  document.getElementById("messageBox").textContent = messages[type] || "Mensaje no disponible.";
  document.getElementById("sectionTitle").textContent = titleMap[type] || "Mensaje Generado";

  setActiveButton(type);
}

function setActiveButton(type) {
  const allButtons = document.querySelectorAll("button[id^='btn-']");
  allButtons.forEach(btn => {
    if (btn.id === `btn-${type}`) {
      btn.classList.add("text-red-500", "font-semibold");
      btn.classList.remove("text-gray-400");
    } else {
      btn.classList.remove("text-red-500", "font-semibold");
      btn.classList.add("text-gray-400");
    }
  });
}

function copyMessage() {
  const msg = document.getElementById("messageBox").textContent;
  navigator.clipboard.writeText(msg).then(() => {
    alert("Mensaje copiado al portapapeles");
  });
}

document.addEventListener("DOMContentLoaded", () => {
  const camposReactivos = ["userName", 
                          "clientName", 
                          "modeloEquipo", 
                          "almacenEquipo", 
                          "bonus", 
                          "cuotaInicial", 
                          "cuotaMensual", 
                          "financiamiento", 
                          "planCliente",
                          "precioPlan",
                          "precioTotalEquipo",
                          "descuentoClaroPuntos",
                          "tarjetaBanco",
                          "cuotaTarjeta",
                          "equipoOfertado",
                          "precioAccesorio",
                          "pmTotal",
                          "colorEquipoUno",
                          "colorEquipoDos", 
                          "precioPromocionalPortabilidad", 
                          "diaSemana",
                          "diaHoy",
                          "mesActual",
                          "numeroCamara",
                          "camaraPrincipal",
                          "camaraAdicional",
                          "bateria",
                          "cargaRapida",
                          "pulgadasPantalla",
                          "tasaRefresco",
                          "ramEquipo",




                        ];
  camposReactivos.forEach(id => {
    const el = document.getElementById(id);
    if (el) {
      el.addEventListener("input", () => {
        if (currentChat) loadChat(currentChat);
      });
    }
  });

  const marcaTelefono = document.getElementById("marcaTelefono");
  if (marcaTelefono) {
    marcaTelefono.addEventListener("change", () => {
      if (currentChat) loadChat(currentChat);
    });
  }

  loadChat(currentChat);
});

// fin

function copyMessage() {
  const msg = document.getElementById("messageBox").textContent;
  navigator.clipboard.writeText(msg).then(() => {
    alert("Mensaje copiado al portapapeles");
  });
}

function toggleSubmenu(id) {
  const allSubmenus = [
    'saludosSubmenu', 'filtroSubmenu', 'esperaSubmenu', 'ofrecimientoSubmenu',
    'precierreSubmenu', 'caracteristicasSubmenu', 'argumentosSubmenu', 'beneficiosSubmenu',
    'revocatoriaSubmenu', 'asesorSubmenu', 'derivacionesSubmenu', 'bloqueoSubmenu',
    'norespondeSubmenu', 'despedidaSubmenu', 'recuperarSubmenu'
  ];

  const sectionTitles = {
    saludosSubmenu: "üó£Ô∏è Mensajes de Saludo",
    filtroSubmenu: "üîç Preguntas de Filtro",
    esperaSubmenu: "‚è≥ Mensajes de Espera",
    ofrecimientoSubmenu: "üì¢ Ofrecimientos",
    precierreSubmenu: "‚úÖ Pre Cierres",
    caracteristicasSubmenu: "üìä Caracter√≠sticas",
    argumentosSubmenu: "üß† Argumentos",
    beneficiosSubmenu: "ü§© Beneficios",
    revocatoriaSubmenu: "‚öñÔ∏è Revocatoria de Consentimiento",
    asesorSubmenu: "üìµ Asesor no Disponible",
    derivacionesSubmenu: "üîÄ Derivaciones",
    bloqueoSubmenu: "üö´ Bloqueo de Deuda",
    norespondeSubmenu: "üôà Cliente no Responde",
    despedidaSubmenu: "üëã Despedida",
    recuperarSubmenu: "‚ôªÔ∏è Recuperar Ventas"
  };

  allSubmenus.forEach(sub => {
    const el = document.getElementById(sub);
    if (el) {
      if (sub === id) {
        el.classList.toggle("hidden");
      } else {
        el.classList.add("hidden");
      }
    }
  });

  const h2 = document.getElementById("sectionTitle");
  h2.textContent = sectionTitles[id] || "Mensaje Generado";
}

document.addEventListener("DOMContentLoaded", () => {
  const campos = ["userName", "clientName"];
  campos.forEach(id => {
    const input = document.getElementById(id);
    if (input) {
      input.addEventListener("input", () => {
        if (currentChat) {
          loadChat(currentChat);
        }
      });
    }
  });

  const marcaTelefono = document.getElementById("marcaTelefono");
  if (marcaTelefono) {
    marcaTelefono.addEventListener("change", () => {
      if (currentChat === "preferenciaCliente") {
        loadChat(currentChat);
      }
    });
  }

  loadChat(currentChat);
});



function recargarPagina() {
  location.reload();
}
